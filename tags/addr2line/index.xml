<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>addr2line on Mryqu's Notes</title><link>https://mryqu.github.io/tags/addr2line/</link><description>Recent content in addr2line on Mryqu's Notes</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Fri, 11 Sep 2015 05:33:28 +0000</lastBuildDate><atom:link href="https://mryqu.github.io/tags/addr2line/index.xml" rel="self" type="application/rss+xml"/><item><title>[C++] addr2line使用</title><link>https://mryqu.github.io/post/c++_addr2line%E4%BD%BF%E7%94%A8/</link><pubDate>Fri, 11 Sep 2015 05:33:28 +0000</pubDate><guid>https://mryqu.github.io/post/c++_addr2line%E4%BD%BF%E7%94%A8/</guid><description>GNU Binutils的Addr2line工具是一个可以将指令的地址和可执行程序转换成文件名、函数名和源代码行数的工具。这种功能对于将跟踪地址转换成更有意义的内容来说简直是太棒了。
下面是一个小示例testAddr2line.c：
#include &amp;#34;stdio.h&amp;#34; void test() { printf(&amp;#34;Hello Addr2line\n&amp;#34;); } int main() { test(); return 0; } 编译时使用-g选项包含调试符号条，使用-Wl,-Map=testAddr2line.map选项输出MapFile。
gcc -Wl,-Map=testAddr2line.map -g -o testAddr2line testAddr2line.c testAddr2line.map部分内容如下： testAddr2line中也包含符号表信息，因而可以使用objdump查找：
hadoop@node51054:~/ctest$ objdump -t testAddr2line | grep &amp;#39;main\|test&amp;#39; testAddr2line: file format elf64-x86-64 0000000000000000 l df *ABS* 0000000000000000 testAddr2line.c 0000000000000000 F *UND* 0000000000000000 __libc_start_main@@GLIBC_2.2.5 0000000000400547 g F .text 0000000000000015 main 0000000000400536 g F .text 0000000000000011 test 使用addr2line：
hadoop@node51054:~/ctest$ addr2line -e testAddr2line 400536 /home/hadoop/ctest/testAddr2line.c:3 hadoop@node51054:~/ctest$ addr2line -e testAddr2line -f 400536 test /home/hadoop/ctest/testAddr2line.</description></item></channel></rss>