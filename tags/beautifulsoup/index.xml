<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>beautifulsoup on Mryqu's Notes</title><link>https://mryqu.github.io/tags/beautifulsoup/</link><description>Recent content in beautifulsoup on Mryqu's Notes</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Sun, 20 Jul 2014 06:42:59 +0000</lastBuildDate><atom:link href="https://mryqu.github.io/tags/beautifulsoup/index.xml" rel="self" type="application/rss+xml"/><item><title>用Python清理XMind生成的html文件</title><link>https://mryqu.github.io/post/%E7%94%A8python%E6%B8%85%E7%90%86xmind%E7%94%9F%E6%88%90%E7%9A%84html%E6%96%87%E4%BB%B6/</link><pubDate>Sun, 20 Jul 2014 06:42:59 +0000</pubDate><guid>https://mryqu.github.io/post/%E7%94%A8python%E6%B8%85%E7%90%86xmind%E7%94%9F%E6%88%90%E7%9A%84html%E6%96%87%E4%BB%B6/</guid><description>XMind思维导图可以导出成html文件，但是每个Topic都被a标签包着，然后外面再被h1、h2&amp;hellip;h5标题标签包着，看着就难受。此外h1、h2&amp;hellip;h5和p标签都加了class属性，没什么用。 写一段小程序，将XMind生成的html文件进行格式清理。
from bs4 import BeautifulSoup as BeautifulSoup soup = BeautifulSoup(open(&amp;#34;c:/qutemp/123.html&amp;#34;)) for a in soup(&amp;#39;a&amp;#39;): a.parent.string = a.string a.clear() for tag in [&amp;#39;h1&amp;#39;,&amp;#39;h2&amp;#39;,&amp;#39;h3&amp;#39;,&amp;#39;h4&amp;#39;,&amp;#39;h5&amp;#39;,&amp;#39;p&amp;#39;]: for tag in soup(tag): del tag[&amp;#39;class&amp;#39;] print soup</description></item><item><title>lxml.html.soupparser引入BeautifulSoup 4的work-around</title><link>https://mryqu.github.io/post/lxml.md.soupparser%E5%BC%95%E5%85%A5beautifulsoup_4%E7%9A%84work-around/</link><pubDate>Sun, 22 Jun 2014 15:51:50 +0000</pubDate><guid>https://mryqu.github.io/post/lxml.md.soupparser%E5%BC%95%E5%85%A5beautifulsoup_4%E7%9A%84work-around/</guid><description>想用一下python的xpath功能分析一个html文件，lxml是比较不错的xml/html解析库，lxml功能强大，性能也不错，此外也包含了ElementTree，html5lib ，beautfulsoup 等库。 可惜我的html文件格式不是很严谨，lxml的ElementTree处理不了，就转而想用lxml的beautfulsoup来处理。 结果lxml找不到BeautifulSoup库。
查了一下Anaconda装的库里面明明有Beautiful Soup 4.3.1，感觉很奇怪！! lxml.html.soupparser引入BeautifulSoup 4的work-around 原来Beautiful Soup 3目前已经停止开发，Beautiful Soup 4移植到了BS4。
下面的语句就可以引入Beautiful Soup 4了，可是lxml还是无法引入beautfulsoup。
from bs4 import BeautifulSoup stackoverflow有一个帖子import error due to bs4 vs BeautifulSoup讲了一个work-around，可以欺骗lxml从而引入beautfulsoup。测试一下，果然工作正常了。
import sys, bs4 sys.modules[&amp;#39;BeautifulSoup&amp;#39;] = bs4 import lxml.html.soupparser as soupparser</description></item></channel></rss>