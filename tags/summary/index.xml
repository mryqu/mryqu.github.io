<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>summary on Mryqu's Notes</title><link>https://mryqu.github.io/tags/summary/</link><description>Recent content in summary on Mryqu's Notes</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Fri, 06 May 2016 05:50:38 +0000</lastBuildDate><atom:link href="https://mryqu.github.io/tags/summary/index.xml" rel="self" type="application/rss+xml"/><item><title>Get comments count using Facebook Graph API</title><link>https://mryqu.github.io/post/get_comments_count_using_facebook_graph_api/</link><pubDate>Fri, 06 May 2016 05:50:38 +0000</pubDate><guid>https://mryqu.github.io/post/get_comments_count_using_facebook_graph_api/</guid><description>通过fields参数获取评论/回复个数 通过预判评论/回复个数，以决定是否发起/{object-id}/commentsAPI请求，可以显著减少API请求个数。
获取帖子的评论数 https://graph.facebook.com/{YOUR_PAGE_ID}/feed?fields=id,XXXX,likes.limit(0).summary(1),comments.limit(0).summary(1),XXXX,with_tags&amp;amp;format=json&amp;amp;include_hidden=true&amp;amp;limit=100&amp;amp;since=XXXX&amp;amp;until=XXXX&amp;amp;include_hidden=true&amp;amp;access_token={YOUR_ACCESS_TOKEN} 获取评论的回复数 https://graph.facebook.com/{YOUR_POST_ID}/comments?fields=id,from,message,created_time,like_count,comments.limit(0).summary(1)&amp;amp;format=json&amp;amp;include_hidden=true&amp;amp;limit=100&amp;amp;since=XXXX&amp;amp;until=XXXX&amp;amp;include_hidden=true&amp;amp;access_token={YOUR_ACCESS_TOKEN} comments.summary.total_count解读 在Facebook Graph指南中/{object-id}/comments提到了total_count数值是随filter变动的。
filter为stream，total_count为该节点下所有评论及其回复的总数； filter为toplevel，total_count为该节点下顶层评论/回复的总数。 由于在我的使用场景中为设置filter，而其默认值为toplevel，则total_count为该节点下顶层评论/回复的总数。</description></item></channel></rss>