<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Defaultwebrequestor on Mryqu&#39;s Notes</title>
    <link>https://mryqu.github.io/tags/defaultwebrequestor/</link>
    <description>Recent content in Defaultwebrequestor on Mryqu&#39;s Notes</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Mon, 04 Apr 2016 06:18:35 +0000</lastBuildDate>
    
	<atom:link href="https://mryqu.github.io/tags/defaultwebrequestor/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Use proxy on RestFB</title>
      <link>https://mryqu.github.io/post/use_proxy_on_restfb/</link>
      <pubDate>Mon, 04 Apr 2016 06:18:35 +0000</pubDate>
      
      <guid>https://mryqu.github.io/post/use_proxy_on_restfb/</guid>
      <description>曾经有人向RestFB开过issue（https://github.com/restfb/restfb/issues/116）询问如何给其设置代理，issue里回复扩展DefaultWebRequestor。下面的代码基于该方案并测试通过。
package com.yqu.restfb; import com.restfb.DefaultFacebookClient; import com.restfb.DefaultJsonMapper; import com.restfb.FacebookClient; import com.restfb.Version; import java.io.IOException; import java.net.HttpURLConnection; import java.net.InetSocketAddress; import java.net.Proxy; import java.net.URL; public class HelloRestFBWithProxy { private static class DefaultWebRequestor extends com.restfb.DefaultWebRequestor { protected HttpURLConnection openConnection(URL url) throws IOException { HttpURLConnection httpURLConnection = null; if (useProxyFlag.booleanValue()) { InetSocketAddress proxyLocation = new InetSocketAddress( hostName, port); Proxy proxy = new Proxy(Proxy.Type.HTTP, proxyLocation); try { httpURLConnection = (HttpURLConnection) url .openConnection(proxy); return httpURLConnection; } catch (Exception e) { return (HttpURLConnection) url.</description>
    </item>
    
  </channel>
</rss>