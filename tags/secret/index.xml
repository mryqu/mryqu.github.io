<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>secret on Mryqu's Notes</title><link>https://mryqu.github.io/tags/secret/</link><description>Recent content in secret on Mryqu's Notes</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Fri, 14 Oct 2016 05:40:38 +0000</lastBuildDate><atom:link href="https://mryqu.github.io/tags/secret/index.xml" rel="self" type="application/rss+xml"/><item><title>OneDrive认证时的"Public clients can't send a client secret."错误</title><link>https://mryqu.github.io/post/onedrive%E8%AE%A4%E8%AF%81%E6%97%B6%E7%9A%84public_clients_cant_send_a_client_secret%E9%94%99%E8%AF%AF/</link><pubDate>Fri, 14 Oct 2016 05:40:38 +0000</pubDate><guid>https://mryqu.github.io/post/onedrive%E8%AE%A4%E8%AF%81%E6%97%B6%E7%9A%84public_clients_cant_send_a_client_secret%E9%94%99%E8%AF%AF/</guid><description>在进行Microsoft OneDrive认证和登录实验的过程中，曾经用下列命令过去访问令牌：
POST https://login.live.com/oauth20_token.srf Content-Type: application/x-www-form-urlencoded client_id={client_id}&amp;amp;redirect_uri=https://login.live.com/oauth20_desktop.srf&amp;amp;client_secret={client_secret} &amp;amp;code={code}&amp;amp;grant_type=authorization_code 结果返回：
{&amp;#34;error&amp;#34;:&amp;#34;invalid_request&amp;#34;,&amp;#34;error_description&amp;#34;:&amp;#34;Public clients can&amp;#39;t send a client secret.&amp;#34;} 一个&amp;quot;public client&amp;quot;指的是移动或桌面应用(web服务则是&amp;quot;confidentialclient&amp;quot;)。由于跳转URI是https://login.live.com/oauth20_desktop.srf，因而MSA返回该错误响应。这种情况下，不应该提供client_secret，使用下列请求即可。
POST https://login.live.com/oauth20_token.srf Content-Type: application/x-www-form-urlencoded client_id={client_id}&amp;amp;redirect_uri=https://login.live.com/oauth20_desktop.srf&amp;amp;code={code}&amp;amp;grant_type=authorization_code</description></item></channel></rss>