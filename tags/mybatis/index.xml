<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>mybatis on Mryqu's Notes</title><link>https://mryqu.github.io/tags/mybatis/</link><description>Recent content in mybatis on Mryqu's Notes</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Wed, 22 May 2013 09:12:27 +0000</lastBuildDate><atom:link href="https://mryqu.github.io/tags/mybatis/index.xml" rel="self" type="application/rss+xml"/><item><title>使用GemFire做Mybatis/Hibernate二级缓存</title><link>https://mryqu.github.io/post/gemfire_as-l2-cache-of-mybatis-and-hibernate/</link><pubDate>Wed, 22 May 2013 09:12:27 +0000</pubDate><guid>https://mryqu.github.io/post/gemfire_as-l2-cache-of-mybatis-and-hibernate/</guid><description>使用GemFire做Mybatis二级缓存 MyBatis支持第三方二级缓存实现，目前支持Ehcache、Hazelcast和OSCache。 GemFire不在支持的范围，但是可以通过实现org.apache.ibatis.cache.Cache接口来使用。
MyBatis的Cache配置及实现 设置MyBatis的Cache全局使用开关：默认是true，如果它配成false，其余各个MapperXML文件配成支持cache也没用。
&amp;lt;settings&amp;gt; &amp;lt;setting name=&amp;#34;cacheEnabled&amp;#34; value=&amp;#34;true&amp;#34;/&amp;gt; &amp;lt;/settings&amp;gt; 各个Mapper XML文件，默认是不采用cache。在配置文件加一行就可以支持cache：
&amp;lt;cache /&amp;gt; 实现GemfireCache
package com.yqu.mybatis.caches.gemfire; import com.gemstone.gemfire.cache.AttributesFactory; import com.gemstone.gemfire.cache.CacheFactory; import com.gemstone.gemfire.cache.Region; import java.util.concurrent.locks.ReadWriteLock; import java.util.concurrent.locks.ReentrantReadWriteLock; import org.apache.ibatis.cache.Cache; import org.apache.ibatis.cache.CacheException; public final class GemfireCache implements Cache { private static Region&amp;lt;object&amp;gt; mybatis_region = null; private Region&amp;lt;object&amp;gt; region = null; private final ReadWriteLock readWriteLock = new ReentrantReadWriteLock(); private String id; public void setId(String id) { this.id = id; } public void setRegion(Region&amp;lt;object&amp;gt; region) { this.</description></item></channel></rss>