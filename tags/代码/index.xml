<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>代码 on Mryqu&#39;s Notes</title>
    <link>https://mryqu.github.io/tags/%E4%BB%A3%E7%A0%81/</link>
    <description>Recent content in 代码 on Mryqu&#39;s Notes</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Thu, 12 Mar 2015 08:52:17 +0000</lastBuildDate>
    
	<atom:link href="https://mryqu.github.io/tags/%E4%BB%A3%E7%A0%81/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>粗览Activiti Explorer源代码</title>
      <link>https://mryqu.github.io/post/%E7%B2%97%E8%A7%88activiti_explorer%E6%BA%90%E4%BB%A3%E7%A0%81/</link>
      <pubDate>Thu, 12 Mar 2015 08:52:17 +0000</pubDate>
      
      <guid>https://mryqu.github.io/post/%E7%B2%97%E8%A7%88activiti_explorer%E6%BA%90%E4%BB%A3%E7%A0%81/</guid>
      <description>ActivitiExplorer的应用程序为org.activiti.explorer.ExplorerApp，其界面配置文件为Activiti\modules\activiti-webapp-explorer2\src\main\resources\activiti-ui-context.xml。通过该配置文件创建主窗口org.activiti.explorer.ui.MainWindow类实例，并通过org.activiti.explorer.ViewManagerFactoryBean创建实现org.activiti.explorer.ViewManager接口的org.activiti.explorer.DefaultViewManager或org.activiti.explorer.ui.alfresco.AlfrescoViewManager类实例。 在Activiti演示中采用的是org.activiti.explorer.DefaultViewManager类实例，它对主窗口进行视图管理，完成视图切换、对应导航栏和功能菜单的设置。 主窗口org.activiti.explorer.ui.MainWindow类实例通过org.activiti.explorer.ui.mainlayout.MainLayout类进行界面布局。
下面列举了Activiti Explorer两级导航栏所对应的页面实现类。 - Tasks - Inboxorg.activiti.explorer.ui.task.InboxPage - My Tasksorg.activiti.explorer.ui.task.TasksPage - Queuedorg.activiti.explorer.ui.task.QueuedPage - Involvedorg.activiti.explorer.ui.task.InvolvedPage - Archivedorg.activiti.explorer.ui.task.ArchivedPage - Processes - My Instancesorg.activiti.explorer.ui.process.MyProcessInstancesPage - Deployed process definitionsorg.activiti.explorer.ui.process.ProcessDefinitionPage - Model workspaceorg.activiti.editor.ui.EditorProcessDefinitionPage - Reports - Generate reportsorg.activiti.explorer.ui.reports.RunReportsPage - Saved reportsorg.activiti.explorer.ui.reports.SavedReportsPage - Manage - Databaseorg.activiti.explorer.ui.management.db.DatabasePage - Deploymentsorg.activiti.explorer.ui.management.deployment.DeploymentPage - Active Processesorg.activiti.explorer.ui.management.processdefinition.ActiveProcessDefinitionPage - Suspend Processesorg.activiti.explorer.ui.management.processdefinition.SuspendedProcessDefinitionPage - Jobsorg.activiti.explorer.ui.management.job.JobPage - Usersorg.activiti.explorer.ui.management.identity.UserPage - Groupsorg.activiti.explorer.ui.management.identity.GroupPage - Administrationorg.activiti.explorer.ui.management.admin.AdministrationPage - Crystalballorg.activiti.explorer.ui.management.crystalball.CrystalBallPage</description>
    </item>
    
    <item>
      <title>粗览Activiti Modeler属性显示和设置代码</title>
      <link>https://mryqu.github.io/post/%E7%B2%97%E8%A7%88activiti_modeler%E5%B1%9E%E6%80%A7%E6%98%BE%E7%A4%BA%E5%92%8C%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%A0%81/</link>
      <pubDate>Fri, 06 Mar 2015 08:47:29 +0000</pubDate>
      
      <guid>https://mryqu.github.io/post/%E7%B2%97%E8%A7%88activiti_modeler%E5%B1%9E%E6%80%A7%E6%98%BE%E7%A4%BA%E5%92%8C%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%A0%81/</guid>
      <description>我的博文粗览Activiti Modeler操作和源代码介绍了Activiti ModelEditor组件的常用操作和对应源代码分析，本文接着介绍一下ActivitiModeler里BPMN元素属性的显示和设置。 粗览Activiti Modeler操作和源代码里提到的stencilset.json除了含有每个BPMN元素应该使用什么图标，也定义了每个BPMN元素的所有属性。以UserTask元素为例，它含有以下的属性包： - &amp;ldquo;overrideidpackage&amp;rdquo; - &amp;ldquo;namepackage&amp;rdquo; - &amp;ldquo;documentationpackage&amp;rdquo; - &amp;ldquo;asynchronousdefinitionpackage&amp;rdquo; - &amp;ldquo;exclusivedefinitionpackage&amp;rdquo; - &amp;ldquo;executionlistenerspackage&amp;rdquo; - &amp;ldquo;multiinstance_typepackage&amp;rdquo; - &amp;ldquo;multiinstance_cardinalitypackage&amp;rdquo; - &amp;ldquo;multiinstance_collectionpackage&amp;rdquo; - &amp;ldquo;multiinstance_variablepackage&amp;rdquo; - &amp;ldquo;multiinstance_conditionpackage&amp;rdquo; - &amp;ldquo;isforcompensationpackage&amp;rdquo; - &amp;ldquo;usertaskassignmentpackage&amp;rdquo; - &amp;ldquo;formkeydefinitionpackage&amp;rdquo; - &amp;ldquo;duedatedefinitionpackage&amp;rdquo; - &amp;ldquo;prioritydefinitionpackage&amp;rdquo; - &amp;ldquo;formpropertiespackage&amp;rdquo; - &amp;ldquo;tasklistenerspackage&amp;rdquo;
[tomcat]\webapps\activiti-explorer\editor-app\configuration\properties.js里提供了对各类BPMNstencil的所需要包含的HTML页面。 [tomcat]\webapps\activiti-explorer\editor-app\stencil-controller.js中对ORYX.CONFIG.EVENT_SELECTION_CHANGED事件注册了匿名函数监听器。当某一BPMN元素被选中后，该监听器会设置$scope.selectedItem和$scope.selectedShape，其中包含BPMN元素的所有属性，每个属性都有对应的stencilreadModeTemplateUrl、writeModeTemplateUrl和templateUrl。 [tomcat]\webapps\activiti-explorer\editor-app\editor.html是ActivitiModelEditor组件的显示页面，其ID为propertiesHelpWrapper的DIV元素内对所选择的BPMN元素的每个属性放置templateUrl、readModeTemplateUrl或writeModeTemplateUrl对应的HTML子页面用于显示和设置stencil属性。 用于设置BPMNstencil属性的页面都位于[tomcat]\webapps\activiti-explorer\editor-app\configuration\properties\下。 这些页面和Anjugar.JS控制器为： </description>
    </item>
    
    <item>
      <title>粗览Activiti Modeler操作和源代码</title>
      <link>https://mryqu.github.io/post/%E7%B2%97%E8%A7%88activiti_modeler%E6%93%8D%E4%BD%9C%E5%92%8C%E6%BA%90%E4%BB%A3%E7%A0%81/</link>
      <pubDate>Sun, 15 Feb 2015 20:24:21 +0000</pubDate>
      
      <guid>https://mryqu.github.io/post/%E7%B2%97%E8%A7%88activiti_modeler%E6%93%8D%E4%BD%9C%E5%92%8C%E6%BA%90%E4%BB%A3%E7%A0%81/</guid>
      <description>Activiti Model Editor组件 我的了解Activiti Explorer及其Vaadin实现方式博文里提到ActivitiExplorer使用的是Vaadin架构，但是Activiti 模型编辑器组件却没用使用Vaadin架构，而是采用Angular.JS的MVC模式。Activiti模型编辑器组件的客户端代码位于Activiti\modules\activiti-webapp-explorer2\src\main\webapp\editor-app\。 该目录下的editor.html是Activiti Modeler Editor的主界面HTML代码 其中palette区是通过Angular.JS使用stencilsets\bpmn2.0\icons下多个子目录内的PNG图像形成的多组列表。其节点层次关系获取相关代码为： - stencil-controller.js - Activiti\modules\activiti-modeler\src\main\java\org\activiti\rest\editor\main\StencilsetRestResource.java - Activiti\modules\activiti-webapp-explorer2\src\main\resources\stencilset.json
editor.html中的视图与两个控制器进行了绑定: - stencil-controller.js：处理对canvas中BPMN元素的操作，很多处理是通过editor目录下的QRYX库完成的 - toolbar-controller.js：处理对工具栏的操作，很多处理由configuration\toolbar-default-actions.js完成
保存模型操作 保存模型操作，是通过toolbar-default-actions.js中的SaveModel方法完成的，它需要将三部分信息传给服务器： - 模型的元数据：例如模型名称、分类、创建时间、最后一次更新时间等等 - 模型JSON数据：将canvas内的图像数据转换成JSON数据UTF8字符串
 { &amp;quot;resourceId&amp;quot;: 53, &amp;quot;properties&amp;quot;: { &amp;quot;process_id&amp;quot;: &amp;quot;process&amp;quot;, &amp;quot;name&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;documentation&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;process_author&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;process_version&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;process_namespace&amp;quot;: &amp;quot;http://www.activiti.org/processdef&amp;quot;, &amp;quot;executionlisteners&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;eventlisteners&amp;quot;: &amp;quot;&amp;quot; }, &amp;quot;stencil&amp;quot;: { &amp;quot;id&amp;quot;: &amp;quot;BPMNDiagram&amp;quot; }, &amp;quot;childShapes&amp;quot;: [ { &amp;quot;resourceId&amp;quot;: &amp;quot;sid-4F7484B9-11EC-4FCE-8950-FEFFB723D88B&amp;quot;, &amp;quot;properties&amp;quot;: { &amp;quot;overrideid&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;name&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;documentation&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;executionlisteners&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;initiator&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;formkeydefinition&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;formproperties&amp;quot;: &amp;quot;&amp;quot; }, &amp;quot;stencil&amp;quot;: { &amp;quot;id&amp;quot;: &amp;quot;StartNoneEvent&amp;quot; }, &amp;quot;childShapes&amp;quot;: [], &amp;quot;outgoing&amp;quot;: [ { &amp;quot;resourceId&amp;quot;: &amp;quot;sid-B589A0D9-FA79-4C12-95B7-253E72480384&amp;quot; } ], &amp;quot;bounds&amp;quot;: { &amp;quot;lowerRight&amp;quot;: { &amp;quot;x&amp;quot;: 259, &amp;quot;y&amp;quot;: 139 }, &amp;quot;upperLeft&amp;quot;: { &amp;quot;x&amp;quot;: 229, &amp;quot;y&amp;quot;: 109 } }, &amp;quot;dockers&amp;quot;: [] }, { &amp;quot;resourceId&amp;quot;: &amp;quot;sid-1A762474-62B9-4F3D-A81C-1ADD46AF7D2F&amp;quot;, &amp;quot;properties&amp;quot;: { &amp;quot;overrideid&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;name&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;documentation&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;asynchronousdefinition&amp;quot;: &amp;quot;false&amp;quot;, &amp;quot;exclusivedefinition&amp;quot;: &amp;quot;false&amp;quot;, &amp;quot;executionlisteners&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;multiinstance_type&amp;quot;: &amp;quot;None&amp;quot;, &amp;quot;multiinstance_cardinality&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;multiinstance_collection&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;multiinstance_variable&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;multiinstance_condition&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;isforcompensation&amp;quot;: &amp;quot;false&amp;quot;, &amp;quot;usertaskassignment&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;formkeydefinition&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;duedatedefinition&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;prioritydefinition&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;formproperties&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;tasklisteners&amp;quot;: &amp;quot;&amp;quot; }, &amp;quot;stencil&amp;quot;: { &amp;quot;id&amp;quot;: &amp;quot;UserTask&amp;quot; }, &amp;quot;childShapes&amp;quot;: [], &amp;quot;outgoing&amp;quot;: [ { &amp;quot;resourceId&amp;quot;: &amp;quot;sid-4134C10E-B589-42FF-AACC-463D35D52016&amp;quot; } ], &amp;quot;bounds&amp;quot;: { &amp;quot;lowerRight&amp;quot;: { &amp;quot;x&amp;quot;: 746, &amp;quot;y&amp;quot;: 172 }, &amp;quot;upperLeft&amp;quot;: { &amp;quot;x&amp;quot;: 646, &amp;quot;y&amp;quot;: 92 } }, &amp;quot;dockers&amp;quot;: [] }, { &amp;quot;resourceId&amp;quot;: &amp;quot;sid-B22A5CAB-94D0-419E-BB1E-E8538C6A7283&amp;quot;, &amp;quot;properties&amp;quot;: { &amp;quot;overrideid&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;name&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;documentation&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;executionlisteners&amp;quot;: &amp;quot;&amp;quot; }, &amp;quot;stencil&amp;quot;: { &amp;quot;id&amp;quot;: &amp;quot;EndNoneEvent&amp;quot; }, &amp;quot;childShapes&amp;quot;: [], &amp;quot;outgoing&amp;quot;: [], &amp;quot;bounds&amp;quot;: { &amp;quot;lowerRight&amp;quot;: { &amp;quot;x&amp;quot;: 1089, &amp;quot;y&amp;quot;: 138 }, &amp;quot;upperLeft&amp;quot;: { &amp;quot;x&amp;quot;: 1061, &amp;quot;y&amp;quot;: 110 } }, &amp;quot;dockers&amp;quot;: [] }, { &amp;quot;resourceId&amp;quot;: &amp;quot;sid-B589A0D9-FA79-4C12-95B7-253E72480384&amp;quot;, &amp;quot;properties&amp;quot;: { &amp;quot;overrideid&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;name&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;documentation&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;conditionsequenceflow&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;executionlisteners&amp;quot;: &amp;quot;&amp;quot;, &amp;quot;defaultflow&amp;quot;: &amp;quot;false&amp;quot; }, &amp;quot;stencil&amp;quot;: { &amp;quot;id&amp;quot;: &amp;quot;SequenceFlow&amp;quot; }, &amp;quot;childShapes&amp;quot;: [], &amp;quot;outgoing&amp;quot;: [ { &amp;quot;resourceId&amp;quot;: &amp;quot;sid-1A762474-62B9-4F3D-A81C-1ADD46AF7D2F&amp;quot; } ], &amp;quot;bounds&amp;quot;: { &amp;quot;lowerRight&amp;quot;: { &amp;quot;x&amp;quot;: 645.</description>
    </item>
    
  </channel>
</rss>