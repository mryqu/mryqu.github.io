<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>[Spring Boot] 创建超媒体驱动的Mail服务 - Mryqu's Notes</title><meta name=keywords content="mryqu,yandongqu,博客,程序员,架构师,笔记,技术,分享"><meta property="og:title" content="[Spring Boot] 创建超媒体驱动的Mail服务"><meta property="og:site_name" content="Mryqu's Notes"><meta property="og:image" content="/img/author.jpg"><meta name=title content="[Spring Boot] 创建超媒体驱动的Mail服务 - Mryqu's Notes"><meta name=description content="mryqu | yandongqu | 博客 | 软件 | 架构 | 技术"><link rel="shortcut icon" href=/img/favicon.ico><link rel=apple-touch-icon href=/img/apple-touch-icon.png><link rel=apple-touch-icon-precomposed href=/img/apple-touch-icon.png><link href="/js/vendor/font-awesome/css/font-awesome.min.css?v=4.6.2" rel=stylesheet type=text/css><link href="/js/vendor/fancybox/jquery.fancybox.css?v=2.1.5" rel=stylesheet type=text/css><link href=/css/main.css rel=stylesheet type=text/css><link href=/css/syntax.css rel=stylesheet type=text/css><script type=text/javascript id=hexo.configuration>var NexT=window.NexT||{},CONFIG={scheme:"Pisces",sidebar:{position:"left",display:"post"},fancybox:!0,motion:!0}</script></head><body itemscope itemtype=http://schema.org/WebPage lang=zh-hans><div class="container one-collumn sidebar-position-left page-home"><div class=headband></div><header id=header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class="site-meta custom-logo"><div class=custom-logo-site-title><a href=https://mryqu.github.io/ class=brand rel=start><span class=logo-line-before><i></i></span>
<span class=site-title>Mryqu's Notes</span>
<span class=logo-line-after><i></i></span></a></div><p class=site-subtitle></p></div><div class=site-nav-toggle><button>
<span class=btn-bar></span>
<span class=btn-bar></span>
<span class=btn-bar></span></button></div><nav class=site-nav><ul id=menu class=menu><li class=menu-item><a href=/tags/ rel=section><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class=menu-item><a href=/categories/ rel=section><i class="menu-item-icon fa fa-fw fa-categories"></i><br>分类</a></li><li class=menu-item><a href=/post/ rel=section><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-search"><a href=javascript:; class=popup-trigger><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class=site-search><div class=popup><span class="search-icon fa fa-search"></span>
<input type=text id=local-search-input><div id=local-search-result></div><span class=popup-btn-close>close</span></div></div></nav></div></header><main id=main class=main><div class=main-inner><div class=content-wrap><div id=content class=content><section id=posts class=posts-expand><article class="post post-type-normal" itemscope itemtype=http://schema.org/Article><header class=post-header><h1 class=post-title itemprop="name headline"><a class=post-title-link href=https://mryqu.github.io/post/spring_boot_%E5%88%9B%E5%BB%BA%E8%B6%85%E5%AA%92%E4%BD%93%E9%A9%B1%E5%8A%A8%E7%9A%84mail%E6%9C%8D%E5%8A%A1/ itemprop=url>[Spring Boot] 创建超媒体驱动的Mail服务</a></h1><div class=post-meta><span class=post-time><span class=post-meta-item-icon><i class="fa fa-calendar-o"></i></span>
<span class=post-meta-item-text>时间：</span>
<time itemprop=dateCreated datetime=2016-03-22T13:04:35+08:00 content="2015-08-03">2015-08-03</time></span>
<span class=post-category>&nbsp; | &nbsp;
<span class=post-meta-item-icon><i class="fa fa-folder-o"></i></span>
<span class=post-meta-item-text>分类：</span>
<span itemprop=about itemscope itemtype=https://schema.org/Thing><a href=/categories/service+javaee itemprop=url rel=index><span itemprop=name>Service+JavaEE</span></a>
&nbsp;</span>
<span itemprop=about itemscope itemtype=https://schema.org/Thing><a href=/categories/spring itemprop=url rel=index><span itemprop=name>Spring</span></a>
&nbsp;</span></span>
<span>&nbsp; | &nbsp;
<span class=post-meta-item-icon><i class="fa fa-eye"></i></span>
<span class=post-meta-item-text>阅读：</span>
<span class=leancloud-visitors-count>1396 字 ~7分钟</span></span></div></header><div class=post-body itemprop=articleBody><h3 id=spring与mail的集成>Spring与Mail的集成</h3><p>Spring框架为邮件发送提供了一个有用的工具库，可为用户屏蔽底层邮件系统细节，并负责代表客户端负责低层资源处理。
<code>org.springframework.mail</code>包是Spring框架邮件支持的根级包。发送邮件的核心接口是<code>MailSender</code> 接口；封装了简单邮件_from_和_to_等属性的简单对象类是 <code>SimpleMailMessage</code> 。该包也包含对底层邮件系统进行更高级抽象的分层检查异常，其根异常为<code>MailException</code>。
<code>org.springframework.mail.javamail.JavaMailSender</code> 接口<code>MailSender</code>为添加了专业的_JavaMail_ 功能，例如MIME消息支持。<code>JavaMailSender</code> 也为JavaMailMIME消息提供了回调接口<code>org.springframework.mail.javamail.MimeMessagePreparator</code>。</p><h3 id=spring-hateoas>Spring HATEOAS</h3><p>HATEOAS (Hypermedia as the Engine of ApplicationState，超媒体即应用状态引擎)是REST应用架构的一个约束。Spring HATEOAS是一个用于支持实现超媒体驱动的RESTWeb服务的开发库。它提供一些API用于同Spring特别是SpringMVC一起使用时轻松创建遵循HATEOAS原则的REST表述，其试图解决的核心问题是链接创建和表述装配。功能：</p><ul><li>用于链接、资源表述模型的模型类</li><li>用于指向Spring MVC控制器方法的链接建造者API</li><li>对<a href=https://en.wikipedia.org/wiki/Hypertext_Application_Language>HAL</a>之类的多媒体格式的支持</li></ul><h3 id=示例>示例</h3><h4 id=applicationjava>Application.java</h4><pre tabindex=0><code>package com.yqu.mail;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class Application {

    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}
</code></pre><h4 id=mailservervojava>MailServerVO.java</h4><pre tabindex=0><code>package com.yqu.mail;

import org.springframework.hateoas.ResourceSupport;

import java.io.Serializable;
import java.util.Properties;

public class MailServerVO extends ResourceSupport implements Serializable {
    private String host;
    private Integer port;
    private String userName;
    private String password;
    private String defaultEncoding;
    private Properties properties;

    public MailServerVO() {}

    public MailServerVO(
            String host,
            Integer port,
            String userName,
            String password,
            String defaultEncoding,
            Properties properties) {
        this.host = host;
        this.port = port;
        this.userName = userName;
        this.password = password;
        this.defaultEncoding = defaultEncoding;
        this.properties = properties;
    }

    public String getHost() {
        return host;
    }

    public void setHost(String host) {
        this.host = host;
    }

    public Integer getPort() {
        return port;
    }

    public void setPort(Integer port) {
        this.port = port;
    }

    public String getUserName() {
        return userName;
    }

    public void setUserName(String userName) {
        this.userName = userName;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }

    public String getDefaultEncoding() {
        return defaultEncoding;
    }

    public void setDefaultEncoding(String defaultEncoding) {
        this.defaultEncoding = defaultEncoding;
    }

    public Properties getProperties() {
        return properties;
    }

    public void setProperties(Properties properties) {
        this.properties = properties;
    }

    @Override
    public String toString() {
        return &#34;MailServerVO{&#34; +
                &#34;host=&#39;&#34; + host + &#39;\&#39;&#39; +
                &#34;, port=&#34; + port +
                &#34;, userName=&#39;&#34; + userName + &#39;\&#39;&#39; +
                &#34;, password=&#39;&#34; + password + &#39;\&#39;&#39; +
                &#34;, defaultEncoding=&#39;&#34; + defaultEncoding + &#39;\&#39;&#39; +
                &#34;, properties=&#34; + properties +
                &#34;} &#34;;
    }
}
</code></pre><h4 id=addressvojava>AddressVO.java</h4><pre tabindex=0><code>package com.yqu.mail;

public class AddressVO {
    private String address;
    private String personal;

    public AddressVO() {}

    public AddressVO(
            String address,
            String personal) {
        this.address = address;
        this.personal = personal;
    }

    public String getAddress() {
        return address;
    }

    public void setAddress(String address) {
        this.address = address;
    }

    public String getPersonal() {
        return personal;
    }

    public void setPersonal(String personal) {
        this.personal = personal;
    }

    @Override
    public String toString() {
        return &#34;AddressVO{&#34; +
                &#34;address=&#39;&#34; + address + &#39;\&#39;&#39; +
                &#34;, personal=&#39;&#34; + personal + &#39;\&#39;&#39; +
                &#39;}&#39;;
    }
}
</code></pre><h4 id=mailvojava>MailVO.java</h4><pre tabindex=0><code>package com.yqu.mail;

import org.springframework.hateoas.ResourceSupport;

import java.io.Serializable;
import java.util.Arrays;
import java.util.Map;

public class MailVO extends ResourceSupport implements Serializable {
    private String subject;
    private String plainText;
    private String htmlText;
    private String charset;
    private boolean multipart = true;
    
    private AddressVO[] to;
    private AddressVO[] cc;
    private AddressVO[] bcc;
    private AddressVO from;
    private AddressVO replyTo;

    public MailVO() {}

    public MailVO(
            String subject,
            String plainText,
            String htmlText,
            String charset,
            boolean multipart,
            AddressVO[] to,
            AddressVO[] cc,
            AddressVO[] bcc,
            AddressVO from,
            AddressVO replyTo) {
        this.subject = subject;
        this.plainText = plainText;
        this.htmlText = htmlText;
        this.charset = charset;
        this.multipart = multipart;
        this.to = to;
        this.cc = cc;
        this.bcc = bcc;
        this.from = from;
        this.replyTo = replyTo;
    }

    public String getSubject() {
        return subject;
    }

    public void setSubject(String subject) {
        this.subject = subject;
    }

    public String getPlainText() {
        return plainText;
    }

    public void setPlainText(String plainText) {
        this.plainText = plainText;
    }

    public String getHtmlText() {
        return htmlText;
    }

    public void setHtmlText(String htmlText) {
        this.htmlText = htmlText;
    }

    public String getCharset() {
        return charset;
    }

    public void setCharset(String charset) {
        this.charset = charset;
    }

    public boolean isMultipart() {
        return multipart;
    }

    public void setMultipart(boolean multipart) {
        this.multipart = multipart;
    }

    public AddressVO[] getTo() {
        return to;
    }

    public void setTo(AddressVO[] to) {
        this.to = to;
    }

    public AddressVO[] getCc() {
        return cc;
    }

    public void setCc(AddressVO[] cc) {
        this.cc = cc;
    }

    public AddressVO[] getBcc() {
        return bcc;
    }

    public void setBcc(AddressVO[] bcc) {
        this.bcc = bcc;
    }

    public AddressVO getFrom() {
        return from;
    }

    public void setFrom(AddressVO from) {
        this.from = from;
    }

    public AddressVO getReplyTo() {
        return replyTo;
    }

    public void setReplyTo(AddressVO replyTo) {
        this.replyTo = replyTo;
    }

    @Override
    public String toString() {
        return &#34;MailVO{&#34; +
                &#34;subject=&#39;&#34; + subject + &#39;\&#39;&#39; +
                &#34;, plainText=&#39;&#34; + plainText + &#39;\&#39;&#39; +
                &#34;, htmlText=&#39;&#34; + htmlText + &#39;\&#39;&#39; +
                &#34;, charset=&#39;&#34; + charset + &#39;\&#39;&#39; +
                &#34;, multipart=&#34; + multipart +
                &#34;, to=&#34; + Arrays.toString(to) +
                &#34;, cc=&#34; + Arrays.toString(cc) +
                &#34;, bcc=&#34; + Arrays.toString(bcc) +
                &#34;, from=&#34; + from +
                &#34;, replyTo=&#34; + replyTo +
                &#34;} &#34;;
    }
}
</code></pre><h4 id=utiljava>Util.java</h4><pre tabindex=0><code>package com.yqu.mail;

import org.springframework.core.io.ByteArrayResource;
import org.springframework.mail.javamail.JavaMailSender;
import org.springframework.mail.javamail.JavaMailSenderImpl;
import org.springframework.mail.javamail.MimeMessageHelper;

import javax.mail.MessagingException;
import javax.mail.internet.InternetAddress;
import javax.mail.internet.MimeMessage;
import javax.mail.internet.MimeUtility;
import javax.mail.util.ByteArrayDataSource;
import java.io.UnsupportedEncodingException;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import java.util.Properties;

public class Util {

    public static MailServerVO convert (JavaMailSenderImpl mailServer) {
        if(mailServer!=null) {
            return new MailServerVO(
                    mailServer.getHost(),
                    mailServer.getPort(),
                    mailServer.getUsername(),
                    mailServer.getPassword(),
                    mailServer.getDefaultEncoding(),
                    mailServer.getJavaMailProperties());
        }
        return null;
    }

    public static JavaMailSenderImpl update(
                        JavaMailSenderImpl sender, MailServerVO vo) {
        if(vo!=null) {
            Properties javaMailProperties = sender.getJavaMailProperties();

            String host = vo.getHost();
            Integer port = vo.getPort();
            String userName = vo.getUserName();
            String password = vo.getPassword();
            String defaultEncoding = vo.getDefaultEncoding();
            Properties properties = vo.getProperties();

            if (host != null) {
                sender.setHost(host);
            }
            if (port != null) {
                sender.setPort(port);
            }
            if (userName != null) {
                sender.setUsername(userName);
            }
            if (password != null) {
                sender.setPassword(password);
            }
            if (defaultEncoding != null) {
                sender.setDefaultEncoding(defaultEncoding);
            }
            if (properties != null &amp;&amp; !properties.isEmpty()) {
                properties.stringPropertyNames().forEach(
                        propKey -&gt; javaMailProperties.setProperty(
                                propKey, properties.getProperty(propKey)));
                sender.setJavaMailProperties(javaMailProperties);
            }
        }
        return sender;
    }

    public static AddressVO convert(InternetAddress addr) {
        if(addr!=null) {
            return new AddressVO(addr.getAddress(),addr.getPersonal());
        }
        return null;
    }

    public static InternetAddress convert(AddressVO vo) {
        if(vo!=null) {
            InternetAddress addr = new InternetAddress();
            addr.setAddress(vo.getAddress());
            if(vo.getPersonal()!=null) {
                try {
                    addr.setPersonal(vo.getPersonal(), &#34;UTF-8&#34;);
                } catch (UnsupportedEncodingException e) {

                }
            }
            return addr;
        }
        return null;
    }

    public static InternetAddress[] convert(AddressVO[] vos) {
        if(vos!=null) {
            InternetAddress[] addrs = new InternetAddress[vos.length];
            for(int i=0;i attachments = mail.getAttachments();
            Map inlineData = mail.getInline();

            if (plainText==null &amp;&amp; htmlText==null) {
                throw new IllegalArgumentException(
                              &#34;Please provide plainText or htmlText.&#34;);
            }
            if(!validateAddress(to) &amp;&amp;
               !validateAddress(cc) &amp;&amp; 
               !validateAddress(bcc)) {
                throw new IllegalArgumentException(
                               &#34;Please provide &#39;to&#39;, &#39;cc&#39;, or &#39;bcc&#39;.&#34;);
            }

            MimeMessage msg = sender.createMimeMessage();
            try {
                MimeMessageHelper helper = new MimeMessageHelper(
                     msg, multipart, charset == null ? &#34;UTF-8&#34; : charset);

                helper.setFrom(from);
                if (replyTo != null) {
                    helper.setReplyTo(replyTo);
                }
                if (validateAddress(to)) {
                    helper.setTo(to);
                }
                if (validateAddress(cc)) {
                    helper.setCc(cc);
                }
                if (validateAddress(bcc)) {
                    helper.setBcc(bcc);
                }
                helper.setSubject(subject);

                if(multipart &amp;&amp; plainText!=null &amp;&amp; htmlText!=null) {
                    helper.setText(plainText, htmlText);
                } else if (plainText==null) {
                    helper.setText(htmlText, true);
                } else {
                    helper.setText(plainText);
                }

                msg = helper.getMimeMessage();
            } catch (MessagingException e) {
                throw new IllegalArgumentException(
                               &#34;Please reconfigure mail content&#34;, e);
            }

            return msg;
        }
        return null;
    }
}
</code></pre><h4 id=mailservicejava>MailService.java</h4><pre tabindex=0><code>package com.yqu.mail;

import org.springframework.mail.javamail.JavaMailSenderImpl;

import java.util.List;

public interface MailService {
    public MailServerVO getMailServer();
    public void setMailServer(MailServerVO mailServer);
    void sendMail(MailVO mail);
    void sendMails(List mail);
}
</code></pre><h4 id=mailserviceimpljava>MailServiceImpl.java</h4><pre tabindex=0><code>package com.yqu.mail;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.mail.javamail.JavaMailSenderImpl;
import org.springframework.mail.javamail.MimeMessageHelper;
import org.springframework.stereotype.Service;

import javax.mail.internet.MimeMessage;
import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.atomic.AtomicLong;

@Service
public class MailServiceImpl implements MailService {
    private JavaMailSenderImpl sender;

    public MailServiceImpl() {}

    public MailServiceImpl(MailServerVO mailServer) {
        setMailServer(mailServer);
    }

    @Override
    public MailServerVO getMailServer() {
        return Util.convert(sender);
    }

    @Override
    public void setMailServer(MailServerVO mailServer) {
        if(sender==null)
            sender = new JavaMailSenderImpl();
        sender = Util.update(sender, mailServer);
    }

    @Override
    public void sendMail(MailVO mail) {
        if(mail!=null) {
            MimeMessage msg = Util.convert(sender, mail);
            sender.send(msg);
        }
    }

    @Override
    public void sendMails(List mails) {
        if(mails!=null &amp;&amp; !mails.isEmpty()) {
            List list = new ArrayList&lt;&gt;();
            mails.forEach(mail -&gt; list.add(Util.convert(sender, mail)));
            sender.send(list.toArray(new MimeMessage[mails.size()]));
        }
    }
}
</code></pre><h4 id=mailcontrollerjava>MailController.java</h4><pre tabindex=0><code>package com.yqu.mail;

import static org.springframework.hateoas.mvc.ControllerLinkBuilder.*;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.hateoas.ResourceSupport;
import org.springframework.http.HttpEntity;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.mail.javamail.JavaMailSenderImpl;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.*;
import org.springframework.web.servlet.ModelAndView;

import java.util.List;

@RestController
public class MailController {
    @Autowired
    private MailService service;

    @RequestMapping(value = &#34;/&#34;, method = RequestMethod.GET)
    @ResponseBody
    public HttpEntity  home() {
        ResourceSupport home = new ResourceSupport();
        home.add(linkTo(methodOn(MailController.class).home()).withSelfRel());
        home.add(linkTo(methodOn(MailController.class).sendMail(null)).withRel(&#34;mail&#34;));
        home.add(linkTo(methodOn(MailController.class).sendMails(null)).withRel(&#34;mails&#34;));
        home.add(linkTo(methodOn(MailController.class).getMailServer()).withRel(&#34;server&#34;));
        return new ResponseEntity(home, HttpStatus.OK);
    }

    @RequestMapping(value = &#34;/mail/server&#34;, method = RequestMethod.GET)
    @ResponseBody
    public HttpEntity getMailServer() {
        MailServerVO mailServer = service.getMailServer();
        mailServer.add(linkTo(methodOn(MailController.class).getMailServer()).withSelfRel());
        mailServer.add(linkTo(methodOn(MailController.class).setMailServer(null)).withRel(&#34;server&#34;));
        return new ResponseEntity(mailServer, HttpStatus.OK);
    }

    @RequestMapping(value = &#34;/mail/server&#34;, method = RequestMethod.POST)
    @ResponseBody
    public HttpEntity setMailServer(@RequestBody MailServerVO newMailServer) {
        if(newMailServer!=null) {
            service.setMailServer(newMailServer);
        }
        MailServerVO mailServer = service.getMailServer();
        mailServer.add(linkTo(methodOn(MailController.class).getMailServer()).withSelfRel());
        mailServer.add(linkTo(methodOn(MailController.class).setMailServer(null)).withRel(&#34;update&#34;));
        return new ResponseEntity(mailServer, HttpStatus.OK);
    }

    @RequestMapping(value = &#34;/mail&#34;, method = RequestMethod.POST)
    @ResponseBody
    public ResponseEntity sendMail(@RequestBody MailVO mail) {
        if(mail!=null) {
            service.sendMail(mail);
        }
        return new ResponseEntity(mail, HttpStatus.OK);
    }

    @RequestMapping(value = &#34;/mails&#34;, method = RequestMethod.POST)
    @ResponseBody
    public ResponseEntity&gt; sendMails(@RequestBody List mails) {
        if(mails!=null) {
            service.sendMails(mails);
        }
        return new ResponseEntity&gt;(mails, HttpStatus.OK);
    }

}
</code></pre><h4 id=applicationproperties>application.properties</h4><pre tabindex=0><code>server.context-path=/HelloSpringMail
server.port=8080

applicationDefaultJvmArgs: [
    &#34;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=55558&#34;
]
</code></pre><h4 id=buildgradle>build.gradle</h4><pre tabindex=0><code>buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath(&#34;org.springframework.boot:spring-boot-gradle-plugin:1.2.6.RELEASE&#34;)
    }
}

apply plugin: &#39;java&#39;
apply plugin: &#39;eclipse&#39;
apply plugin: &#39;idea&#39;
apply plugin: &#39;spring-boot&#39;

jar {
    baseName = &#39;hello-spring-mail&#39;
    version =  &#39;0.1.0&#39;
}

repositories {
    mavenCentral()
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {
    compile(&#34;org.springframework.boot:spring-boot-starter-actuator&#34;)
    compile(&#34;org.springframework.boot:spring-boot-starter-web&#34;)
    compile(&#34;org.springframework.boot:spring-boot-starter-mail&#34;)
    compile(&#34;com.fasterxml.jackson.core:jackson-databind&#34;)
    compile(&#34;org.springframework.hateoas:spring-hateoas&#34;)
    compile(&#34;org.springframework.plugin:spring-plugin-core:1.1.0.RELEASE&#34;)
    compile(&#34;com.jayway.jsonpath:json-path:0.9.1&#34;)
}

task wrapper(type: Wrapper) {
    gradleVersion = &#39;2.3&#39;
}
</code></pre><h3 id=参考>参考</h3><p><a href=http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mail.html>Spring Reference：Mail Integration</a><br><a href=http://projects.spring.io/spring-hateoas/>Spring HATEOAS</a><br><a href=https://spring.io/understanding/HATEOAS>Understanding HATEOAS</a><br><a href=http://spring.io/guides/gs/rest-hateoas/>Spring Guide：Building a Hypermedia-Driven RESTful Web Service</a><br><a href=http://www.mkyong.com/spring/spring-sending-e-mail-with-attachment/>Spring – Sending e-mail with attachment</a></p></div><footer class=post-footer><div class=post-nav><div style="border:1px dashed #e0e0e0;padding:10px;background-color:#fffeee;background-repeat:no-repeat;background-attachment:scroll;background-position:1%;-moz-background-size:auto auto;-moz-background-clip:-moz-initial;-moz-background-origin:-moz-initial;-moz-background-inline-policy:-moz-initial"><div><p style=margin-top:0>标题：[Spring Boot] 创建超媒体驱动的Mail服务<br>作者：<a target=_blank href=/>mryqu</a><br>声明： 本博客所有文章除特别声明外，均采用 <a href=http://creativecommons.org/licenses/by-nc-sa/3.0/cn/>CC BY-NC-SA 3.0 CN</a> 许可协议。转载请注明出处！</p></div></div><div class=clear></div></div><div class=post-tags><a href=/tags/spring rel=tag title=spring>#spring#</a>
<a href=/tags/boot rel=tag title=boot>#boot#</a>
<a href=/tags/mail rel=tag title=mail>#mail#</a>
<a href=/tags/hateoas rel=tag title=hateoas>#hateoas#</a>
<a href=/tags/rest rel=tag title=rest>#rest#</a></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=https://mryqu.github.io/post/consul%E6%9C%8D%E5%8A%A1%E8%AE%BE%E7%BD%AE%E5%AE%9E%E8%B7%B5/ rel=next title=Consul服务设置实践><i class="fa fa-chevron-left"></i> Consul服务设置实践</a></div><div class="post-nav-prev post-nav-item"><a href=https://mryqu.github.io/post/java_mail/ rel=prev title=Java Mail>Java Mail <i class="fa fa-chevron-right"></i></a></div></div><div class=comments id=comments><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url="https://mryqu.github.io/post/spring_boot_%E5%88%9B%E5%BB%BA%E8%B6%85%E5%AA%92%E4%BD%93%E9%A9%B1%E5%8A%A8%E7%9A%84mail%E6%9C%8D%E5%8A%A1/",this.page.identifier="https://mryqu.github.io/post/spring_boot_%E5%88%9B%E5%BB%BA%E8%B6%85%E5%AA%92%E4%BD%93%E9%A9%B1%E5%8A%A8%E7%9A%84mail%E6%9C%8D%E5%8A%A1/"};(function(){var e=document,t=e.createElement("script");t.src="//mryqu.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></div></footer></article></section></div></div><div class=sidebar-toggle><div class=sidebar-toggle-line-wrap><span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
<span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id=sidebar class=sidebar><div class=sidebar-inner><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target=post-toc-wrap>文章目录</li><li class=sidebar-nav-overview data-target=site-overview>站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image src=/img/author.jpg alt><p class=site-author-name itemprop=name></p><p class="site-description motion-element" itemprop=description>Programmer & Architect</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href=/post/><span class=site-state-item-count>663</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>28</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>1472</span>
<span class=site-state-item-name>标签</span></a></div></nav><div class="links-of-author motion-element"><span class=links-of-author-item><a href=https://github.com/mryqu target=_blank title=GitHub><i class="fa fa-fw fa-github"></i>
GitHub</a></span>
<span class=links-of-author-item><a href=https://twitter.com/yandongqu target=_blank title=Twitter><i class="fa fa-fw fa-twitter"></i>
Twitter</a></span>
<span class=links-of-author-item><a href=https://www.facebook.com/yandongqu target=_blank title="FB Page"><i class="fa fa-fw fa-facebook"></i>
FB Page</a></span></div><div class="links-of-blogroll motion-element inline"><script type=text/javascript src="//rf.revolvermaps.com/0/0/8.js?i=01h16xrlw6m&m=0&s=220&c=ff0000&cr1=ffffff&f=arial&l=33&bv=35" async></script></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class=post-toc><div class=post-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#spring与mail的集成>Spring与Mail的集成</a></li><li><a href=#spring-hateoas>Spring HATEOAS</a></li><li><a href=#示例>示例</a></li><li><a href=#参考>参考</a></li></ul></li></ul></nav></div></div></section></div></aside></div></main><footer id=footer class=footer><div class=footer-inner><div class=copyright><span itemprop=copyrightYear>&copy;
2009 - 2022</span>
<span class=with-love><i class="fa fa-heart"></i></span>
<span class=author itemprop=copyrightHolder>Mryqu's Notes</span></div><div class=powered-by>Powered by - <a class=theme-link href=http://gohugo.io target=_blank title=hugo>Hugo v0.105.0</a></div><div class=theme-info>Theme by - <a class=theme-link href=https://github.com/xtfly/hugo-theme-next target=_blank>NexT</a></div></div></footer><div class=back-to-top><i class="fa fa-arrow-up"></i>
<span id=scrollpercent><span>0</span>%</span></div></div><script type=text/javascript>Object.prototype.toString.call(window.Promise)!=="[object Function]"&&(window.Promise=null)</script><script type=text/javascript src="/js/vendor/jquery/index.js?v=2.1.3"></script>
<script type=text/javascript src="/js/vendor/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
<script type=text/javascript src="/js/vendor/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
<script type=text/javascript src="/js/vendor/velocity/velocity.min.js?v=1.2.1"></script>
<script type=text/javascript src="/js/vendor/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/vendor/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
<script src="/js/vendor/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<script type=text/javascript src=/js/utils.js></script>
<script type=text/javascript src=/js/motion.js></script>
<script type=text/javascript src=/js/affix.js></script>
<script type=text/javascript src=/js/schemes/pisces.js></script>
<script type=text/javascript src=/js/scrollspy.js></script>
<script type=text/javascript src=/js/post-details.js></script>
<script type=text/javascript src=/js/toc.js></script>
<script type=text/javascript src=/js/bootstrap.js></script>
<script type=text/javascript src=/js/search.js></script>
<script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'] ],
      displayMath: [ ['$$','$$'] ],
      processEscapes: true
    },
    "HTML-CSS": { fonts: ["TeX"] }
  });
</script><script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML' async></script></body></html>